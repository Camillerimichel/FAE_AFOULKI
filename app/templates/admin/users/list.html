{% extends "admin/admin_base.html" %}

{% block title %}Administration - Utilisateurs{% endblock %}

{% block content %}

<h2 class="text-2xl font-bold mb-2">Administration</h2>
<p class="text-slate-600 mb-4">Gestion des utilisateurs</p>

<a href="/" class="inline-flex items-center px-3 py-2 rounded border border-slate-200 text-slate-700 hover:bg-slate-100 transition mb-4">Retour menu principal</a>

<a href="/admin/users/new" class="bg-blue-600 text-white px-4 py-2 rounded">Ajouter un utilisateur</a>

<table class="w-full mt-6 bg-white shadow">
    <tr class="bg-gray-200 text-left">
        <th class="p-3">Nom complet</th>
        <th class="p-3">Email</th>
        <th class="p-3">RÃ´les</th>
        <th></th>
    </tr>

    {% for u in users %}
    <tr class="border-b">
        <td class="p-3">{{ u.fullname if u.fullname else "-" }}</td>
        <td class="p-3">{{ u.email }}</td>
        <td class="p-3">
            {% if u.roles %}
                {{ u.roles | map(attribute='label') | join(', ') }}
            {% else %}
                -
            {% endif %}
        </td>
        <td class="p-3 text-right">
            <a href="/admin/users/{{ u.id }}" class="text-blue-600">Voir</a>
        </td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
